(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/money/pay"],{"0cb6":function(e,n,t){"use strict";var r=function(){var e=this,n=e.$createElement;e._self._c},a=[];t.d(n,"a",function(){return r}),t.d(n,"b",function(){return a})},1559:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(t("a34a"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n,t,r,a,o,i){try{var d=e[o](i),u=d.value}catch(c){return void t(c)}d.done?n(u):Promise.resolve(u).then(r,a)}function i(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var i=e.apply(n,t);function d(e){o(i,r,a,d,u,"next",e)}function u(e){o(i,r,a,d,u,"throw",e)}d(void 0)})}}var d={data:function(){return{payType:1,orderInfo:{},ordersn:"",orderid:0,pay:0}},computed:{},onLoad:function(e){var n=e.ordersn,t=e.pay;this.ordersn=n,this.pay=t,this.orderid=e.orderId},methods:{loadData:function(){var e=i(r.default.mark(function e(n,t){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:that.ordersn=t,that.pay=n;case 2:case"end":return e.stop()}},e,this)}));function n(n,t){return e.apply(this,arguments)}return n}(),changePayType:function(e){this.payType=e},onBridgeReady:function(n){var t=this;WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:n.appid,timeStamp:n.timeStamp,nonceStr:n.nonceStr,package:n.package,signType:"MD5",paySign:n.sign},function(n){"get_brand_wcpay_request:ok"==n.err_msg&&e.navigateTo({url:"/pages/money/paySuccess?price="+t.pay+"&orderid="+t.orderid})})},confirm:function(){var n=i(r.default.mark(function n(){var t,a,o;return r.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:t=this,1==this.payType?t.$http({method:"POST",params:{orderId:this.orderid},url:t.global.target+"/wx/order/prepay"}).then(function(e){if(console.log(e),0!=e.data.errno){var n=e.data;"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",function(){t.onBridgeReady(n)},!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",function(){t.onBridgeReady(n)}),document.attachEvent("onWeixinJSBridgeReady",function(){t.onBridgeReady(n)})):t.onBridgeReady(n)}else t.$api.msg("微信支付失败")},function(e){t.$api.msg("支付失败")}):(a=window.navigator.userAgent.toLowerCase(),"micromessenger"==a.match(/MicroMessenger/i)?location.href=t.global.target+"pages/money/alipay?userid="+e.getStorageSync("userInfo").id+"&orderid="+t.orderid:(o=e.getStorageSync("userInfo"),location.href=t.global.target+"/wx/order/aliprepay?orderId="+this.orderid+"&userId="+o.id));case 2:case"end":return n.stop()}},n,this)}));function t(){return n.apply(this,arguments)}return t}()}};n.default=d}).call(this,t("543d")["default"])},"1b4b":function(e,n,t){"use strict";t.r(n);var r=t("0cb6"),a=t("605c");for(var o in a)"default"!==o&&function(e){t.d(n,e,function(){return a[e]})}(o);t("3dc6");var i=t("2877"),d=Object(i["a"])(a["default"],r["a"],r["b"],!1,null,null,null);n["default"]=d.exports},"3dc6":function(e,n,t){"use strict";var r=t("582f"),a=t.n(r);a.a},"582f":function(e,n,t){},"605c":function(e,n,t){"use strict";t.r(n);var r=t("1559"),a=t.n(r);for(var o in r)"default"!==o&&function(e){t.d(n,e,function(){return r[e]})}(o);n["default"]=a.a}},[["c674","common/runtime","common/vendor"]]]);